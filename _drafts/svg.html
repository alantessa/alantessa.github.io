---
layout: post
title:  "svg"
thumbnail: "draft.png"
---
<article class="post">
	<div class="frame" style="display: none;">
		<canvas class="draw-target"></canvas>
	</div>
  <svg></svg>
</article>

<script>
function init(ctx, w, h) {
    Math.seedrandom('alantessa');
}

function resize() {
	var svgx = 1000;
	var svgy = 800;
	var svg = d3.select('svg');
	var group = svg.append('g');
	var mask = svg.append('defs').append('mask');
	var maskStyle = mask.append('circle');

	svg
		.attr("width", svgx)
		.attr("height", svgy)
		.attr("style", "border: 1px solid #AAA;");
	group
		.attr('id', 'pattern0');
	mask
		.attr('id', 'mask')
		.attr('x', 0)
		.attr('y', 0)
		.attr('width', 200)
		.attr('height', 200);
	maskStyle
		.attr('cx', 100)
		.attr('cy', 100)
		.attr('r', 100)
		.attr('style', 'stroke: none; fill: #FFF;');

	pattern0(group, 200, 200);

	// var data = [];
	// for(var i = 1; i < 3; i++) {
	// 	data.push({x: 200 * i, y: 0});
	// }
	// var uses = svg.selectAll('use').data(data);
	// uses.enter()
	// 	.append('use')
	// 	.attr('x', function(d) {return d.x;})
	// 	.attr('y', function(d) {return d.y;})
	// 	.attr('xlink:href', '#pattern0');
}

function pattern0(g, w, h) {
	g.style('mask', 'url(#mask)');
	var spacing = 30;
	var color = 'hsla(0, 0%, 70%, 0.8)';
	var strokeWidth = 2;

	var data = [];
	for (var i = 1; i <= Math.floor(w / spacing); i++) {
		data.push({
			x1: i * spacing,
			x2: i * spacing,
			y1: 0,
			y2: h
		});
		data.push({
			x1: 0,
			x2: w,
			y1: i * spacing,
			y2: i * spacing
		});
	}

	var lines = g.selectAll('line').data(data);
  lines.enter().append('line')
		.attr("x1", function(d) { return d.x1; })
		.attr("x2", function(d) { return d.x2; })
		.attr("y1", function(d) { return d.y1; })
		.attr("y2", function(d) { return d.y2; })
		.attr("stroke", color)
		.attr("stroke-width", strokeWidth);
}
</script>
