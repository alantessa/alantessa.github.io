---
layout: post
title:  "fluid"
thumbnail: ""
description: ""
---
<canvas class="draw-target"></canvas>
<script>
var points = [];
var npoints = 100;

function init(ctx, w, h) {
    Math.seedrandom('alantessa');

    // initial values
    points[0] = 0.0;
    for(var i = 1; i < npoints; i++) {
        points[i] = points[i - 1] + (Math.random() * Math.PI * 0.1);
    }
}

function update(ctx, w, h, tick) {
    var x = 0.5;
    var y = 0.0;
    var a = 0.0;

    ctx.beginPath();
    ctx.moveTo(x * w, y * h);
    for(var i = 0; i < npoints; i++) {
        a += points[i];
        x += Math.cos(a) * 0.01;
        y += Math.sin(a) * 0.01;
        ctx.lineTo(x * w, y * h);
    }
    ctx.stroke();
}

function normalize(points) {
    var min = +Infinity;
    var max = -Infinity;

    for(var i = 1; i < npoints; i++) {
        if(points[i] < min) min = points[i];
        if(points[i] > max) max = points[i];
    }
    for(var i = 1; i < npoints; i++) {
        points[i] = (points[i] - min) / (max - min);
    }
}
</script>
